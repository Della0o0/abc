<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>菜单</title>
    <link rel="stylesheet" href="../css/base.css">
    <link rel="stylesheet" href="../css/public.css">
    <link rel="stylesheet" href="../css/style.css" />
    <link rel="stylesheet" href="../css/menu.css">
    <link rel="stylesheet" href="../bootstrap/css/bootstrap.css" />
    <script src="../bootstrap/jq/jquery-1.11.3.js"></script>
    <script src="../bootstrap/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="../iconfont/iconfont.css" />
</head>
<body>
     <!-- 主体开始 -->
     <header class="site-header">
        <div class="row">
          <div class="col-xs-5 col-md-3">
            <span class="iconfont icon-Facebook"></span>
            <span class="iconfont icon-twitter"></span>
            <span class="iconfont icon-ins"></span>
          </div>
          <div class="col-xs-2 col-md-6 text-center home"><a href="./index.html">D</a></div>
          <div class="col-xs-5 col-md-3 text-right">
            <a href="#" class="site-nav-toggle">
              <i></i>
              <i></i>
              <i></i>
            </a>
          </div>
        </div>
      </header>
      <div class="menu_back clearfix">
        <ul>
            <li><a href="./index.html">Home</a></li>
            <li><a href="./about.html">About Us</a></li>
            <li><a href="./menu.html">Our Menu</a></li>
            <li><a href="./blog.html">Our Blog</a></li>
            <li><a href="">Reserve A Table</a></li>
            <li><a href="">Contact</a></li>
          </ul>
        
      </div>
      <div class="jumbotron bgc" style="background-image: url('../img/slider-1.jpg');">
        <div class="container">
          <div class="row">
            <div class="col-md-12 speed4">
                <h1>
                    Restaurant's Menu
                  </h2>
                  <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Nemo saepe dolorum dolorem, iste officia voluptates! Sint repudiandae, soluta voluptatem delectus iure, eaque, harum expedita, nisi aliquam magni odio perferendis ipsum!</p>
            </div>
          </div>
        </div>
      </div>
        <!-- 菜单列表开始 -->
      <div class="w">
        <div class="menu speed3">
        <div class="title">
            <h2>
              Menu List with Price
            </h2>
        </div>
        <div class="list clearfix">
            <li>
                <span >BREAKFAST</span>
                <span >BRUNCH</span>
                <span >DINNER</span>
            </li>
            <section class="menu_item"></section>
        </div>
      </div>
      </div>
      <!-- 菜单列表结束 -->
 
         <!-- 特色菜开始 -->
  <div class="special">
    <div class="title speed4">
        <h2>
            Our Specialties
        </h2>
        <em>
            Lorem ipsum dolor sit amet, consectetur adipisicing elit. Dolorum 
            fuga, alias distinctio voluptatum magni voluptatibus.
        </em>
    </div>
</div>
<!-- 特色菜结束 -->
  <!-- 职工轮播 -->
  <div class="carousel_con w clearfix speed4">
    <div class="carousel clearfix">
      <div class="content"></div>
      <ul>
          <li class="show"></li>
          <li></li>
          <li></li>
          <li></li>
      </ul>
    </div>
</div>
<!-- 职工轮播结束 -->
    </main>
    <div class="site-footer">
        <div class="container">
          <div class="row">
            <div class="col-md-6 col-lg-3 mb-5">
              <div class="footer-widget">
                <h3>Diner Restaurant</h3>
                <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Vel neque, odio illum. Est minima sint minus sunt ducimus.</p>
              </div>
            </div>
            <div class="col-md-6 col-lg-3 mb-5">
              <div class="footer-widget">
                <h3>Lunch Service</h3>
                <p>Booking from 12:00pm - 1:30pm</p>
                <h3>Dinner Service</h3>
                <p>Everyday: <br> Booking from 6:00pm - 9:00pm</p>
              </div>
            </div>
            <div class="col-md-6 col-lg-3 mb-5">
              <div class="footer-widget">
                <h3>Quick Links</h3>
                <ul>
                  <li><a href="#">Help & Support</a></li>
                  <li><a href="#">Privacy Policy</a></li>
                  <li><a href="#">Get in Touch</a></li>
                  <li><a href="#">Testimonials</a></li>
                </ul>
              </div>
            </div>
            <div class="col-md-6 col-lg-3 mb-5">
              <div class="footer-widget">
                <h3>Subscribe</h3>
                <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit.</p>
      
                <form action="" class="clearfix">
                  <div class="form-group form-field">
                    <input type="text" class="form-control" placeholder="Email">
                    <input type="submit" class="btn btn-primary" value="SEND">
                  </div>
                </form>
                <h3>Contact Us</h3>
                <p class="contact-email">info@yourdomain.com</p>
                <p class="contact-phone">1-444-123-9829</p>
              </div>
            </div>
          </div>
      
        </div>
    <script src="../js/jquery-1.11.3.js"></script>
    <script src="../js/bootstrap.min.js"></script>
    <script src="../js/menu.js"></script>
    <script src="../js/index.js"></script>
    <script>
        $(function(){
            // 特色菜渲染
            $.get("/specialties.ajax",(data)=>{
            var $special = $(".special");
            var $wrap = $(`<div class='wrap'></div>`);
            for(var i=0 ; i<data.length ;i++){
                if(i<3){
                var $food = `<div class="food"><img src="${data[i].img}" alt="" style='float:left'><article style='float:right'><h3>${data[i].name}</h3><p>${data[i].synopsis}</p><em>$${data[i].price.toFixed(2)}</em></article></div>`;
                }else{
                var $food = `<div class="food"><img src="${data[i].img}" alt="" style='float:right'><article style='float:left'><h3>${data[i].name}</h3><p>${data[i].synopsis}</p><em>$${data[i].price.toFixed(2)}</em></article></div>`;
                }
                $wrap.append($food);
            }
            $special.append($wrap);
            },"JSON");
            //菜单渲染
            $.get("/menu.ajax",(data)=>{
            var $list_name =  $(".menu .list span");
            var $menu_item = $(".menu .menu_item");
            // 先创建三个div
            for(var i = 0 ; i < $list_name.length ; i++){
                var menu_type = $list_name.eq(i).html();
                var $menu_wrap = $(`<div class='wrap ${menu_type}'></div>`);
                var menu_type_arr = data.filter((item)=>{
                return item.type == menu_type;
                })
                for(var j = 0 ; j < menu_type_arr.length;j++){
                var $price = $(`<div class="price"><div><h3>${menu_type_arr[j].dish}</h3><p>${menu_type_arr[j].synopsis}</p></div><p>$${menu_type_arr[j].price.toFixed(2)}</p></div>`);
                $menu_wrap.append($price);
                }
                $menu_item.append($menu_wrap);
            }
            
            },"JSON");


            // 职工渲染
        $.get("/staff.ajax",(data)=>{
          console.log(data);
          var $staff_con = $(".carousel>.content");
          for(var i = 0 ; i < data.length ; i++){
            var $staff_item = $(`<div ><p>${data[i].synopsis}</p><img src="${data[i].img}" alt=""><h3>${data[i].name}</h3><em>${data[i].position}</em></div>`);
            $staff_con.append($staff_item);
          }
        },"JSON").then(()=>{
          var $div = $(".carousel>.content>div");
          var dex = 0;
          var $li = $(".carousel li");
          $li.click(function () {
            dex = $(this).index();
            console.log($div);
            $(this).addClass("show").siblings().removeClass("show");
            $($div[dex]).fadeIn(200).siblings().fadeOut(200);
          });
          var timer = setInterval(() => {
            dex++;
            if (dex == 4) dex = 0;
            $($li[dex]).addClass("show").siblings().removeClass("show");
            $($div[dex]).show().siblings().hide();
          }, 1500);
          $car.mouseleave(() => {
            timer = setInterval(() => {
              dex++;
              if (dex == 4) dex = 0;
              $($li[dex]).addClass("show").siblings().removeClass("show");
              $($div[dex]).show().siblings().hide();
            }, 1500);
          });
          $car.mouseover(() => {
            clearInterval(timer);
          });
        });
        })






    </script>
</body>
</html>